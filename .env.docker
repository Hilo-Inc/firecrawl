# ============================================
# FIRECRAWL DOCKER COMPOSE ENVIRONMENT
# ============================================
# Copy this file to .env and update values as needed
# Usage: docker-compose --env-file .env up -d

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=3002
ENV=production
LOGGING_LEVEL=info

# ============================================
# DATABASE CONFIGURATION
# ============================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=postgres
POSTGRES_PORT=5432

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_PORT=6379

# ============================================
# AUTHENTICATION
# ============================================
# Set to true to enable Supabase authentication
# For local testing, keep this false
USE_DB_AUTHENTICATION=false

# ============================================
# WORKER CONFIGURATION
# ============================================
NUM_WORKERS_PER_QUEUE=8

# ============================================
# PLAYWRIGHT SERVICE
# ============================================
# Set to true to block images/videos for faster scraping
BLOCK_MEDIA=false

# ============================================
# STOCK SCRAPER CONFIGURATION
# ============================================
# Search mode for stock scraping
# Options: "investingcom-api" (default, faster) or "firecrawl-search"
INVESTING_COM_SEARCH_MODE=investingcom-api

# ============================================
# AI FEATURES (Optional)
# ============================================
# Required for stock data extraction with AI
# Get your key from https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Optional: Use a different OpenAI-compatible endpoint
OPENAI_BASE_URL=

# Model for extraction (default: gpt-4o-mini)
MODEL_NAME=gpt-4o-mini

# Model for embeddings
MODEL_EMBEDDING_NAME=text-embedding-3-small

# ============================================
# OLLAMA (Optional Local AI Alternative)
# ============================================
# Example: http://host.docker.internal:11434
OLLAMA_BASE_URL=

# ============================================
# SEARCH APIs (Optional)
# ============================================
# For firecrawl-search mode or /v1/search endpoint
# Get Serper key from https://serper.dev
SERPER_API_KEY=

# Alternative search API
SEARCHAPI_API_KEY=

# ============================================
# MONITORING & NOTIFICATIONS (Optional)
# ============================================
# Slack webhook for health notifications
SLACK_WEBHOOK_URL=

# PostHog analytics
POSTHOG_API_KEY=
POSTHOG_HOST=

# ============================================
# SECURITY
# ============================================
# Change this in production!
BULL_AUTH_KEY=firecrawl-local-dev
